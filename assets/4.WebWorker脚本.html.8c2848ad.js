import{_ as e,r as p,o as t,a as o,d as c,e as r,w as l,F as u,b as s,f as n}from"./app.28445bf9.js";const i={},k=s(`<h1 id="" tabindex="-1"><a class="header-anchor" href="#" aria-hidden="true">#</a></h1><h2 id="web-worker-\u811A\u672C" tabindex="-1"><a class="header-anchor" href="#web-worker-\u811A\u672C" aria-hidden="true">#</a> Web Worker \u811A\u672C</h2><p>Vite \u4E2D\u4F7F\u7528 Web Worker \u4E5F\u975E\u5E38\u7B80\u5355\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5728\u65B0\u5EFAHeader/example.js\u6587\u4EF6:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">start</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u7ED9\u4E3B\u7EBF\u7A0B\u4F20\u503C</span>
    <span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token operator">++</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div>`,4),b=n("\u7136\u540E\u5728 \u67D0\u4E2A\u7EC4\u4EF6\u4E2D\u5F15\u5165, \u5F15\u5165\u65F6\u5019\u6CE8\u610F\u52A0\u4E0A "),d=n("?worker"),m=n(" \u540E\u7F00, \u76F8\u5F53\u4E8E\u544A\u8BC9vite\u8FD9\u662F\u4E00\u4E2A web worker \u811A\u672C\u6587\u4EF6"),_=s(`<div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> Worker <span class="token keyword">from</span> <span class="token string">&#39;./example.js?worker&#39;</span><span class="token punctuation">;</span>

<span class="token comment">// 1. \u521D\u59CB\u5316 Worker \u5B9E\u4F8B</span>
<span class="token keyword">const</span> worker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 2. \u4E3B\u7EBF\u7A0B\u76D1\u542C worker \u7684\u4FE1\u606F</span>
worker<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;message&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  e<span class="token punctuation">.</span>data <span class="token comment">// count</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>\u6253\u5F00\u6D4F\u89C8\u5668\u7684\u63A7\u5236\u9762\u677F\uFF0C\u4F60\u5982\u679C\u770B\u5230 Worker \u4F20\u7ED9\u4E3B\u7EBF\u7A0B\u7684\u4FE1\u606F\u5DF2\u7ECF\u6210\u529F\u6253\u5370 \u8BF4\u660E Web Worker \u811A\u672C\u5DF2\u7ECF\u6210\u529F\u6267\u884C\uFF0C\u4E5F\u80FD\u4E0E\u4E3B\u7EBF\u7A0B\u6B63\u5E38\u901A\u4FE1\u3002</p>`,2);function h(w,f){const a=p("a-mark");return t(),o(u,null,[k,c("p",null,[b,r(a,null,{default:l(()=>[d]),_:1}),m]),_],64)}var v=e(i,[["render",h],["__file","4.WebWorker\u811A\u672C.html.vue"]]);export{v as default};
